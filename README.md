# Election night

It's election night and we have a feed of election results from a data supplier. 
They will supply us a file which will be updated throughout the night as results come in.

## Results format

The fields in the file will be separated by commas but each row will vary in length as described below.

A result will consist of:

1. A constituency
2. A repeating set of pairs with the party code and the votes cast

So for example:

    Cardiff West, 11014, C, 17803, L, 4923, UKIP, 2069, LD
    Islington South & Finsbury, 22547, L, 9389, C, 4829, LD, 3375, UKIP, 3371, G, 309, Ind

> **_NOTE:_** Constituency names containing a comma will be escaped as with '\\,'

We want to transform this into a standard API that shows, per constituency:

* the constituency name
* translates the party code into a full name
* shows the total number of votes for each party
* shows the share of the vote as a percentage of all the votes cast
* shows who won the constituency

One of the API endpoitns should show the results for the whole of the UK:
* number of total MPs per party
* number of total votes per party

A UI should represent the results for the whole of the UK, and how the parliament seats 
are distributed over parties, like in https://members.parliament.uk/parties/Commons

### Codes

* C - Conservative
* L - Labour
* SNP - Scottish National Party
* LD - Liberal Democrats
* G - Green Party
* Ind - Independent

### Update of results

New results files will be arriving all night, and the application needs to process them. These files will include updates or new results for some constituencies. 
The previous results generated by the service may be behind the actual results or may contain an error. We want to be able to combine the existing results with new updated results files.
If a constituency has an entry for a party in the new results file that value should be overrided in the existings results data.
If the constituency is not present in the existing results data the result should be added entirely from the new file.

